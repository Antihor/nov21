import{a as w,i as q}from"./assets/vendor-DlDx-2bX.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();async function m(t,r){const a="https://pixabay.com/api/",n="42059071-0978dc0d7158b742eee7c30f5",e={per_page:15,page:r},o=`${a}?key=${n}&q=${encodeURIComponent(t)}&image_type=photo&orientation=horizontal&safesearch=true`;return(await w.get(o,{params:e})).data}function $(t){const{largeImageURL:r,webformatURL:a,tags:n,likes:e,views:o,comments:s,downloads:L}=t;return`<a href="${r}" class="gallery-link"><li class="gallery-item">
          <img class="gallery-image" src="${a}" alt="${n}">
          <p><b>Likes:</b> ${e}</p>
          <p><b>Views:</b> ${o}</p>
          <p><b>Comments:</b> ${s}</p>
          <p><b>Downloads:</b> ${L}</p>
          </li></a>`}function M(t){return t.map($).join("")}const S=document.querySelector(".form");document.querySelector(".btn");const u=document.querySelector(".gallery"),f=document.querySelector(".load"),p=document.querySelector(".loader");let c,i,d;S.addEventListener("submit",E);async function E(t){if(t.preventDefault(),c=t.target.elements.query.value.trim(),i=1,!c){l("Emty field"),t.target.reset();return}try{const r=await m(c,i);if(r.hits.length===0){l("Sorry, no matches found. Please, try another query"),t.target.reset();return}d=Math.ceil(r.total/15),u.innerHTML="",g(r.hits)}catch(r){l(r),d=0,u.innerHTML=""}b(),h(),t.target.reset(),y()}f.addEventListener("click",O);async function O(){i+=1,I();const t=await m(c,i);g(t.hits),b(),h()}function g(t){const r=M(t);u.insertAdjacentHTML("beforeend",r)}function y(){f.classList.remove("hidden")}function R(){f.classList.add("hidden")}function h(){i>=d?R():y()}function I(){p.classList.remove("hidden")}function b(){p.classList.add("hidden")}function l(t){q.error({title:"Error!",message:t,position:"center"})}
//# sourceMappingURL=index.js.map
